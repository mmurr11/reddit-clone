(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25],{2035:function(r,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-post",function(){return t(3454)}])},8418:function(r,e,t){"use strict";function n(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function o(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a=[],i=!0,u=!1;try{for(t=t.call(r);!(i=(n=t.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(l){u=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return n(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.default=void 0;var a,i=(a=t(7294))&&a.__esModule?a:{default:a},u=t(6273),l=t(387),c=t(7190);var f={};function s(r,e,t,n){if(r&&u.isLocalURL(e)){r.prefetch(e,t,n).catch((function(r){0}));var o=n&&"undefined"!==typeof n.locale?n.locale:r&&r.locale;f[e+"%"+t+(o?"%"+o:"")]=!0}}var d=function(r){var e,t=!1!==r.prefetch,n=l.useRouter(),a=i.default.useMemo((function(){var e=o(u.resolveHref(n,r.href,!0),2),t=e[0],a=e[1];return{href:t,as:r.as?u.resolveHref(n,r.as):a||t}}),[n,r.href,r.as]),d=a.href,p=a.as,h=r.children,y=r.replace,v=r.shallow,m=r.scroll,b=r.locale;"string"===typeof h&&(h=i.default.createElement("a",null,h));var g=(e=i.default.Children.only(h))&&"object"===typeof e&&e.ref,x=o(c.useIntersection({rootMargin:"200px"}),2),w=x[0],j=x[1],A=i.default.useCallback((function(r){w(r),g&&("function"===typeof g?g(r):"object"===typeof g&&(g.current=r))}),[g,w]);i.default.useEffect((function(){var r=j&&t&&u.isLocalURL(d),e="undefined"!==typeof b?b:n&&n.locale,o=f[d+"%"+p+(e?"%"+e:"")];r&&!o&&s(n,d,p,{locale:e})}),[p,d,j,b,t,n]);var S={ref:A,onClick:function(r){e.props&&"function"===typeof e.props.onClick&&e.props.onClick(r),r.defaultPrevented||function(r,e,t,n,o,a,i,l){("A"!==r.currentTarget.nodeName.toUpperCase()||!function(r){var e=r.currentTarget.target;return e&&"_self"!==e||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey||r.nativeEvent&&2===r.nativeEvent.which}(r)&&u.isLocalURL(t))&&(r.preventDefault(),e[o?"replace":"push"](t,n,{shallow:a,locale:l,scroll:i}))}(r,n,d,p,y,v,m,b)},onMouseEnter:function(r){e.props&&"function"===typeof e.props.onMouseEnter&&e.props.onMouseEnter(r),u.isLocalURL(d)&&s(n,d,p,{priority:!0})}};if(r.passHref||"a"===e.type&&!("href"in e.props)){var E="undefined"!==typeof b?b:n&&n.locale,I=n&&n.isLocaleDomain&&u.getDomainLocale(p,E,n&&n.locales,n&&n.domainLocales);S.href=I||u.addBasePath(u.addLocale(p,E,n&&n.defaultLocale))}return i.default.cloneElement(e,S)};e.default=d},7190:function(r,e,t){"use strict";function n(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function o(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a=[],i=!0,u=!1;try{for(t=t.call(r);!(i=(n=t.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(l){u=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return n(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.useIntersection=function(r){var e=r.rootRef,t=r.rootMargin,n=r.disabled||!u,f=a.useRef(),s=o(a.useState(!1),2),d=s[0],p=s[1],h=o(a.useState(e?e.current:null),2),y=h[0],v=h[1],m=a.useCallback((function(r){f.current&&(f.current(),f.current=void 0),n||d||r&&r.tagName&&(f.current=function(r,e,t){var n=function(r){var e,t={root:r.root||null,margin:r.rootMargin||""},n=c.find((function(r){return r.root===t.root&&r.margin===t.margin}));n?e=l.get(n):(e=l.get(t),c.push(t));if(e)return e;var o=new Map,a=new IntersectionObserver((function(r){r.forEach((function(r){var e=o.get(r.target),t=r.isIntersecting||r.intersectionRatio>0;e&&t&&e(t)}))}),r);return l.set(t,e={id:t,observer:a,elements:o}),e}(t),o=n.id,a=n.observer,i=n.elements;return i.set(r,e),a.observe(r),function(){if(i.delete(r),a.unobserve(r),0===i.size){a.disconnect(),l.delete(o);var e=c.findIndex((function(r){return r.root===o.root&&r.margin===o.margin}));e>-1&&c.splice(e,1)}}}(r,(function(r){return r&&p(r)}),{root:y,rootMargin:t}))}),[n,y,t,d]);return a.useEffect((function(){if(!u&&!d){var r=i.requestIdleCallback((function(){return p(!0)}));return function(){return i.cancelIdleCallback(r)}}}),[d]),a.useEffect((function(){e&&v(e.current)}),[e]),[m,d]};var a=t(7294),i=t(9311),u="undefined"!==typeof IntersectionObserver;var l=new Map,c=[]},5680:function(r,e,t){"use strict";t.d(e,{A:function(){return m}});var n=t(5893),o=t(4051),a=t.n(o),i=t(8527),u=t(5113),l=t(1664),c=t(9402),f=t(7786),s=t(1163);function d(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function p(r,e,t,n,o,a,i){try{var u=r[a](i),l=u.value}catch(c){return void t(c)}u.done?e(l):Promise.resolve(l).then(n,o)}function h(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a=[],i=!0,u=!1;try{for(t=t.call(r);!(i=(n=t.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(l){u=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return d(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(r){r=null!==r?r:function(r){throw r}(new TypeError("Cannot destructure undefined"));var e,t=(0,s.useRouter)(),o=h((0,c.UE)({pause:(0,f.s)()}),1)[0],d=o.data,y=o.fetching,v=h((0,c._y)(),2),m=v[0].fetching,b=v[1],g=null;return y||(g=(null===d||void 0===d?void 0:d.me)?(0,n.jsxs)(i.kC,{align:"center",children:[(0,n.jsx)(l.default,{href:"/create-post",children:(0,n.jsx)(u.zx,{as:i.rU,mr:4,children:"create post"})}),(0,n.jsx)(i.xu,{mr:2,children:d.me.username}),(0,n.jsx)(u.zx,{onClick:(e=a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b();case 2:t.reload();case 3:case"end":return r.stop()}}),r)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(r){p(a,n,o,i,u,"next",r)}function u(r){p(a,n,o,i,u,"throw",r)}i(void 0)}))}),isLoading:m,variant:"link",children:"Logout"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.default,{href:"/login",children:(0,n.jsx)(i.rU,{mr:2,children:"Login"})}),(0,n.jsx)(l.default,{href:"/register",children:(0,n.jsx)(i.rU,{children:"Register"})})]})),(0,n.jsxs)(i.kC,{position:"sticky",top:0,zIndex:1,bg:"tomato",p:4,align:"center",children:[(0,n.jsx)(l.default,{href:"/",children:(0,n.jsx)(i.rU,{children:(0,n.jsx)(i.X6,{children:"It's Reddit!"})})}),(0,n.jsx)(i.xu,{ml:"auto",children:g})]})},v=t(9113),m=function(r){var e=r.children,t=r.variant;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{}),(0,n.jsx)(v.i,{variant:t,children:e})]})}},3454:function(r,e,t){"use strict";t.r(e),t.d(e,{default:function(){return w}});var n=t(4051),o=t.n(n),a=t(5893),i=t(8527),u=t(5113),l=t(2175),c=t(1325),f=t(1163),s=t(4034),d=t(9402),p=t(7294);function h(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function y(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a=[],i=!0,u=!1;try{for(t=t.call(r);!(i=(n=t.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(l){u=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return h(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=t(42),m=t(5680);function b(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function g(r,e,t,n,o,a,i){try{var u=r[a](i),l=u.value}catch(c){return void t(c)}u.done?e(l):Promise.resolve(l).then(n,o)}function x(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a=[],i=!0,u=!1;try{for(t=t.call(r);!(i=(n=t.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(l){u=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return b(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=(0,c.X)(s.MS)((function(r){r=null!==r?r:function(r){throw r}(new TypeError("Cannot destructure undefined"));var e=(0,f.useRouter)();!function(){var r=y((0,d.UE)(),1)[0],e=r.data,t=r.fetching,n=(0,f.useRouter)();(0,p.useEffect)((function(){t||(null===e||void 0===e?void 0:e.me)||n.replace("/login?next="+n.pathname)}),[t,e,n])}();var t=x((0,d.u3)(),2)[1];return(0,a.jsx)(m.A,{variant:"small",children:(0,a.jsx)(l.J9,{initialValues:{title:"",text:""},onSubmit:function(){var r,n=(r=o().mark((function r(n){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t({input:n});case 2:r.sent.error||e.push("/");case 4:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(r){g(a,n,o,i,u,"next",r)}function u(r){g(a,n,o,i,u,"throw",r)}i(void 0)}))});return function(r){return n.apply(this,arguments)}}(),children:function(r){var e=r.isSubmitting;return(0,a.jsxs)(l.l0,{children:[(0,a.jsx)(v.U,{name:"title",placeholder:"title",label:"Title"}),(0,a.jsx)(i.xu,{mt:4,children:(0,a.jsx)(v.U,{textarea:!0,name:"text",placeholder:"text...",label:"Body"})}),(0,a.jsx)(u.zx,{mt:4,isLoading:e,type:"submit",colorScheme:"teal",children:"Create post"})]})}})})}))},1664:function(r,e,t){r.exports=t(8418)}},function(r){r.O(0,[873,129,516,774,888,179],(function(){return e=2035,r(r.s=e);var e}));var e=r.O();_N_E=e}]);